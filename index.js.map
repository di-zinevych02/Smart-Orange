{"version":3,"file":"index.js","sources":["../src/js/slider.js","../src/js/render-function.js","../src/js/fetchObjects.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  const sliderWrapper = document.querySelector('.slides-list');\n  const slides = document.querySelectorAll(\".slide\");\n  const prevButton = document.getElementById(\"prev\");\n  const nextButton = document.getElementById(\"next\");\n  let currentSlide = 0;\n  const totalSlides = slides.length;\n  const updateSliderPosition = () => {\n    sliderWrapper.style.transform = `translateX(-${currentSlide * 100}%)`;\n  };\n  const updateButtons = () => {\n    prevButton.disabled = currentSlide === 0;\n    nextButton.disabled = currentSlide === totalSlides - 1;\n  };\n  const goToNextSlide = () => {\n    if (currentSlide < totalSlides - 1) {\n      currentSlide++;\n      updateSliderPosition();\n      updateButtons();\n    }\n  };\n  const goToPrevSlide = () => {\n    if (currentSlide > 0) {\n      currentSlide--;\n      updateSliderPosition();\n      updateButtons();\n    }\n  };\n  nextButton.addEventListener('click', goToNextSlide);\n  prevButton.addEventListener('click', goToPrevSlide);\n  updateButtons();\n});","const spriteUrl = `${import.meta.env.BASE_URL}img/svg/sprite.svg`;\nexport const createObjectsCard = objects =>\n  objects.map(objectInfo => `\n    <li class=\"objects-item\">\n    <div class=\"icon-container\">\n    <svg class=\"icon-prev\" width=\"34\" height=\"34\">\n    <use xlink:href=\"${spriteUrl}#icon-pin\"></use>\n    </svg>\n    </div>\n    <div class=\"container-year-type\">\n    <p class=\"year\">${objectInfo.year}p.</p>\n    <p class=\"type\">${objectInfo.type}</p>\n    </div>\n    <div class=\"img-title-container\">\n    <img class=\"card-img\" src=\"${objectInfo.img}\" alt=\"${objectInfo.name}\" >\n    <h3 class=\"title-card\">${objectInfo.name}</h3>\n    </div>\n    <p class=\"adress\">${objectInfo.adress}</p>\n    <p class=\"types-work\">Теги:</p>\n    <ul class=\"list-tags\">\n    ${objectInfo.tags.map(tag => `<li class=\"item-tags\">${tag}</li>`).join(\"\")}\n    </ul>\n    </li>\n    `).join(\"\");","import { createObjectsCard } from \"./render-function.js\";\nconst objectsList = document.querySelector(\".objects-list\");\nconst loadMoreBtn = document.querySelector(\".load-more\");\nconst filterBtns = document.querySelectorAll(\".filter-btn \");\n\n\nlet allData = [];\nlet currentFilter = \"all\";\nlet page = 1;\nconst limit = 3;\n\nasync function fetchData() {\n  try {\n    const response = await fetch(`https://test.smarto.agency/smarto_complexes_list.json`);\n    //кладемо отримані дані в масив\n    allData = await response.json();\n    renderItems();\n  } catch (error) {\n    objectsList.innerHTML = `<li style=\"color:red;\">Помилка: ${error.message}</li>`;\n  }\n}\nfunction getFilteredData() {\n  if (currentFilter === \"all\") return allData;\n  return allData.filter(item => item.type === currentFilter);\n}\nfunction renderItems() {\n  const filteredData = getFilteredData();\n  const end = page * limit; //1*3=3\n  //відображення 3 карток відразу.\n  const visibleItems = filteredData.slice(0, end);\n  //генеруємо розмітку через функцію createObjectsCard\n  const cardsHTML = createObjectsCard(visibleItems);\n  //Вставляємо у список\n  objectsList.innerHTML = cardsHTML;\n\n  //Якщо кількість карток буде перевищувати чи дорівнює загальної кількості карток на сервері то кнопку приховали\n  if (visibleItems.length >= filteredData.length) {\n    loadMoreBtn.style.display=\"none\";\n    iziToast.info({\n      title: \"Готово\",\n      message: \"Усі об`єкти завантажені\",\n      position: \"topRight\",\n    });\n  } else {\n    loadMoreBtn.style.display = \"block\";\n}\n}\n\n//клік по фільтру\nfilterBtns.forEach(btn => {\n  btn.addEventListener(\"click\", () => {\n    filterBtns.forEach(b => b.classList.remove(\"active\"));\n    btn.classList.add(\"active\");\n    currentFilter = btn.dataset.filter;\n    page = 1;\n    renderItems();\n  });\n});\n\nloadMoreBtn.addEventListener(\"click\", () => {\n  page++;\n  renderItems();\n});\n// старт\nfetchData();"],"names":["sliderWrapper","slides","prevButton","nextButton","currentSlide","totalSlides","updateSliderPosition","updateButtons","goToNextSlide","goToPrevSlide","spriteUrl","createObjectsCard","objects","objectInfo","tag","objectsList","loadMoreBtn","filterBtns","allData","currentFilter","page","limit","fetchData","renderItems","error","getFilteredData","item","filteredData","end","visibleItems","cardsHTML","btn","b"],"mappings":"ssBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAgB,SAAS,cAAc,cAAc,EACrDC,EAAS,SAAS,iBAAiB,QAAQ,EAC3CC,EAAa,SAAS,eAAe,MAAM,EAC3CC,EAAa,SAAS,eAAe,MAAM,EACjD,IAAIC,EAAe,EACnB,MAAMC,EAAcJ,EAAO,OACrBK,EAAuB,IAAM,CACjCN,EAAc,MAAM,UAAY,eAAeI,EAAe,GAAG,IACrE,EACQG,EAAgB,IAAM,CAC1BL,EAAW,SAAWE,IAAiB,EACvCD,EAAW,SAAWC,IAAiBC,EAAc,CACzD,EACQG,EAAgB,IAAM,CACtBJ,EAAeC,EAAc,IAC/BD,IACAE,IACAC,IAEN,EACQE,EAAgB,IAAM,CACtBL,EAAe,IACjBA,IACAE,IACAC,IAEN,EACEJ,EAAW,iBAAiB,QAASK,CAAa,EAClDN,EAAW,iBAAiB,QAASO,CAAa,EAClDF,GACF,CAAC,EC/BD,MAAMG,EAAY,mCACLC,EAAoBC,GAC/BA,EAAQ,IAAkBC,GAAA;AAAA;AAAA;AAAA;AAAA,uBAILH,CAAS;AAAA;AAAA;AAAA;AAAA,sBAIVG,EAAW,IAAI;AAAA,sBACfA,EAAW,IAAI;AAAA;AAAA;AAAA,iCAGJA,EAAW,GAAG,UAAUA,EAAW,IAAI;AAAA,6BAC3CA,EAAW,IAAI;AAAA;AAAA,wBAEpBA,EAAW,MAAM;AAAA;AAAA;AAAA,MAGnCA,EAAW,KAAK,IAAWC,GAAA,yBAAyBA,CAAG,OAAO,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA,KAGzE,EAAE,KAAK,EAAE,ECtBRC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAc,SAAS,cAAc,YAAY,EACjDC,EAAa,SAAS,iBAAiB,cAAc,EAG3D,IAAIC,EAAU,CAAA,EACVC,EAAgB,MAChBC,EAAO,EACX,MAAMC,EAAQ,EAEd,eAAeC,GAAY,CACzB,GAAI,CAGFJ,EAAU,MAFO,MAAM,MAAM,uDAAuD,GAE3D,OACzBK,GACD,OAAQC,EAAO,CACdT,EAAY,UAAY,mCAAmCS,EAAM,OAAO,OACzE,CACH,CACA,SAASC,GAAkB,CACzB,OAAIN,IAAkB,MAAcD,EAC7BA,EAAQ,OAAOQ,GAAQA,EAAK,OAASP,CAAa,CAC3D,CACA,SAASI,GAAc,CACrB,MAAMI,EAAeF,IACfG,EAAMR,EAAOC,EAEbQ,EAAeF,EAAa,MAAM,EAAGC,CAAG,EAExCE,EAAYnB,EAAkBkB,CAAY,EAEhDd,EAAY,UAAYe,EAGpBD,EAAa,QAAUF,EAAa,QACtCX,EAAY,MAAM,QAAQ,OAC1B,SAAS,KAAK,CACZ,MAAO,SACP,QAAS,0BACT,SAAU,UAChB,CAAK,GAEDA,EAAY,MAAM,QAAU,OAEhC,CAGAC,EAAW,QAAQc,GAAO,CACxBA,EAAI,iBAAiB,QAAS,IAAM,CAClCd,EAAW,QAAQe,GAAKA,EAAE,UAAU,OAAO,QAAQ,CAAC,EACpDD,EAAI,UAAU,IAAI,QAAQ,EAC1BZ,EAAgBY,EAAI,QAAQ,OAC5BX,EAAO,EACPG,GACJ,CAAG,CACH,CAAC,EAEDP,EAAY,iBAAiB,QAAS,IAAM,CAC1CI,IACAG,GACF,CAAC,EAEDD,EAAW"}